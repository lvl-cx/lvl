local a = {
    vector3(-129.09622192383, 141.17642211914, 78.185264587402),
    vector3(-82.562660217285, 180.96569824219, 87.659400939941),
    vector3(-158.83493041992, 512.57574462891, 138.95056152344),
    vector3(18.138517379761, 577.68939208984, 182.38307189941),
    vector3(210.61213684082, 608.92401123047, 186.77983093262),
    vector3(-149.46298217773, 931.71203613281, 235.7056427002),
    vector3(-96.512992858887, 901.6689453125, 236.30012512207),
    vector3(-151.67451477051, 1038.1126708984, 230.83261108398),
    vector3(-1089.2606201172, 587.95111083984, 102.83134460449),
    vector3(-1412.58203125, 471.25659179688, 108.13708496094),
    vector3(-1482.3836669922, 77.664031982422, 54.307060241699),
    vector3(-1632.9669189453, 49.155559539795, 62.437702178955),
    vector3(-1694.3459472656, -77.900352478027, 77.776458740234),
    vector3(-1638.7158203125, -231.2215423584, 54.681175231934),
    vector3(-1539.5476074219, -248.77375793457, 59.52352142334),
    vector3(-340.29989624023, -728.98120117188, 53.245639801025),
    vector3(-349.71179199219, -605.59661865234, 63.240173339844),
    vector3(-253.76187133789, -737.33215332031, 33.107349395752),
    vector3(-707.86590576172, -244.56269836426, 36.9147605896),
    vector3(-826.59753417969, -331.71432495117, 37.169864654541),
    vector3(-1148.3414306641, -279.447265625, 38.108268737793),
    vector3(-941.67010498047, -172.62715148926, 41.879493713379),
    vector3(-1867.6881103516, -385.36227416992, 47.587406158447),
    vector3(-1963.8728027344, -338.00015258789, 45.514347076416),
    vector3(-1898.7065429688, -304.38284301758, 49.227638244629),
    vector3(-3009.1291503906, 108.89453887939, 12.855924606323),
    vector3(-2972.6276855469, 70.629592895508, 11.608492851257),
    vector3(-3180.8137207031, 987.09539794922, 17.81390953064),
    vector3(-3221.8942871094, 1059.7392578125, 11.198601722717),
    vector3(-3153.1376953125, 1179.0294189453, 20.524625778198),
    vector3(-3171.857421875, 1070.9987792969, 25.489269256592),
    vector3(-3123.1389160156, 1120.7208251953, 20.447704315186),
    vector3(-2548.7548828125, 2250.751953125, 52.691219329834),
    vector3(-2491.0161132813, 2296.6516113281, 31.796518325806),
    vector3(-2521.5622558594, 2328.0578613281, 33.059791564941),
    vector3(-2593.0966796875, 2338.8210449219, 28.243535995483),
    vector3(-757.01849365234, 5479.3881835938, 35.73291015625),
    vector3(-736.49871826172, 5570.8881835938, 36.709636688232),
    vector3(-751.56121826172, 5688.6533203125, 21.906585693359),
    vector3(-672.46569824219, 5806.3159179688, 22.955938339233),
    vector3(-438.48086547852, 6030.9282226563, 31.3453540802),
    vector3(-339.33410644531, 6180.544921875, 31.349273681641),
    vector3(-173.45118713379, 6326.6801757813, 36.118068695068),
    vector3(147.9553527832, 6607.8168945313, 31.862325668335),
    vector3(72.865776062012, 6359.912109375, 31.222356796265),
    vector3(135.40086364746, 6443.7495117188, 31.750610351563),
    vector3(1502.8776855469, 6503.5166015625, 21.456434249878),
    vector3(1602.5578613281, 6450.6118164063, 25.215251922607),
    vector3(1567.0856933594, 6509.9672851563, 19.051750183105),
    vector3(1713.8984375, 6409.9028320313, 33.467220306396),
    vector3(1707.3966064453, 6329.1909179688, 45.099395751953),
    vector3(2475.046875, 5019.29296875, 45.614322662354),
    vector3(2499.72265625, 4919.2436523438, 40.563255310059),
    vector3(2052.8967285156, 4798.2602539063, 41.321250915527),
    vector3(2157.5654296875, 4788.7841796875, 41.048736572266),
    vector3(2440.7053222656, 4086.80078125, 38.720073699951),
    vector3(2477.9494628906, 4103.1938476563, 44.90062713623),
    vector3(2507.53125, 4042.1103515625, 36.761474609375),
    vector3(2008.529296875, 3854.1188964844, 35.148944854736),
    vector3(1951.5510253906, 3836.9650878906, 39.51823425293),
    vector3(1832.6726074219, 3682.4399414063, 39.327297210693),
    vector3(1767.7805175781, 3680.0263671875, 34.230735778809),
    vector3(1734.5798339844, 3364.8439941406, 40.336231231689),
    vector3(1717.6398925781, 3316.037109375, 46.402458190918),
    vector3(1705.2514648438, 3280.9899902344, 41.134014129639),
    vector3(1870.8367919922, 3267.9221191406, 52.1025390625),
    vector3(1867.4489746094, 2514.5451660156, 45.775405883789),
    vector3(1879.0349121094, 2552.8784179688, 45.669124603271),
    vector3(1422.9669189453, 1140.0485839844, 114.34228515625),
    vector3(1385.8409423828, 1118.0465087891, 114.60809326172),
    vector3(931.96154785156, 113.83220672607, 79.78638458252),
    vector3(928.62042236328, -76.76097869873, 78.761291503906),
    vector3(960.31488037109, -145.31507873535, 74.47794342041),
    vector3(288.8649597168, -548.53509521484, 42.478446960449),
    vector3(288.49142456055, -592.50213623047, 49.745174407959),
    vector3(222.85754394531, -567.13031005859, 43.872573852539),
    vector3(313.66522216797, -611.11053466797, 39.442989349365),
    vector3(459.55413818359, -649.68286132813, 28.114953994751),
    vector3(428.5637512207, -592.62945556641, 28.495761871338),
    vector3(391.20492553711, -663.26776123047, 28.797662734985),
    vector3(233.06530761719, -866.80297851563, 30.286752700806),
    vector3(166.79742431641, -788.27166748047, 31.387699127197),
    vector3(192.92010498047, -937.90454101562, 30.686861038208),
    vector3(193.68957519531, -991.52697753906, 30.091909408569),
    vector3(65.233459472656, -1048.3028564453, 29.416889190674),
    vector3(150.14413452148, -1074.1610107422, 29.189636230469),
    vector3(50.772235870361, -1412.3503417969, 29.381011962891),
    vector3(146.05346679688, -1447.947265625, 29.144746780396),
    vector3(164.46296691895, -1335.2686767578, 34.169448852539),
    vector3(220.44625854492, -1360.2098388672, 30.587512969971),
    vector3(238.75756835938, -1283.1127929688, 29.26958656311),
    vector3(193.80548095703, -1104.66015625, 29.28861618042),
    vector3(384.83361816406, -1034.9724121094, 29.206218719482),
    vector3(416.50317382813, -954.47406005859, 29.438720703125),
    vector3(-30.419269561768, -782.00518798828, 44.165233612061),
    vector3(-172.90444946289, -799.43450927734, 31.592475891113),
    vector3(-135.59175109863, -676.65014648438, 40.501132965088),
    vector3(-310.24063110352, -630.06549072266, 33.268463134766),
    vector3(-389.95736694336, -683.16711425781, 37.063430786133),
    vector3(-422.93725585938, -661.54693603516, 30.538579940796),
    vector3(-76.710540771484, -1490.0146484375, 32.287227630615),
    vector3(-35.173622131348, -1456.5798339844, 31.268327713013),
    vector3(58.514091491699, -1529.1716308594, 29.141592025757),
    vector3(210.16813659668, -958.39324951172, 24.458206176758),
    vector3(-82.562660217285, 180.96569824219, 87.659400939941),
    vector3(-158.83493041992, 512.57574462891, 138.95056152344),
    vector3(18.138517379761, 577.68939208984, 182.38307189941),
    vector3(210.61213684082, 608.92401123047, 186.77983093262),
    vector3(-149.46298217773, 931.71203613281, 235.7056427002),
    vector3(-96.512992858887, 901.6689453125, 236.30012512207),
    vector3(-151.67451477051, 1038.1126708984, 230.83261108398),
    vector3(-1089.2606201172, 587.95111083984, 102.83134460449),
    vector3(-1412.58203125, 471.25659179688, 108.13708496094),
    vector3(-1482.3836669922, 77.664031982422, 54.307060241699),
    vector3(-1632.9669189453, 49.155559539795, 62.437702178955),
    vector3(-1694.3459472656, -77.900352478027, 77.776458740234),
    vector3(-1638.7158203125, -231.2215423584, 54.681175231934),
    vector3(-1539.5476074219, -248.77375793457, 59.52352142334),
    vector3(-340.29989624023, -728.98120117188, 53.245639801025),
    vector3(-349.71179199219, -605.59661865234, 63.240173339844),
    vector3(-253.76187133789, -737.33215332031, 33.107349395752),
    vector3(-707.86590576172, -244.56269836426, 36.9147605896),
    vector3(-826.59753417969, -331.71432495117, 37.169864654541),
    vector3(-1148.3414306641, -279.447265625, 38.108268737793),
    vector3(-941.67010498047, -172.62715148926, 41.879493713379),
    vector3(-1867.6881103516, -385.36227416992, 47.587406158447),
    vector3(-1963.8728027344, -338.00015258789, 45.514347076416),
    vector3(-1898.7065429688, -304.38284301758, 49.227638244629),
    vector3(-3009.1291503906, 108.89453887939, 12.855924606323),
    vector3(-2972.6276855469, 70.629592895508, 11.608492851257),
    vector3(-3180.8137207031, 987.09539794922, 17.81390953064),
    vector3(-3221.8942871094, 1059.7392578125, 11.198601722717),
    vector3(-3153.1376953125, 1179.0294189453, 20.524625778198),
    vector3(-3171.857421875, 1070.9987792969, 25.489269256592),
    vector3(-3123.1389160156, 1120.7208251953, 20.447704315186),
    vector3(-2548.7548828125, 2250.751953125, 52.691219329834),
    vector3(-2491.0161132813, 2296.6516113281, 31.796518325806),
    vector3(-2521.5622558594, 2328.0578613281, 33.059791564941),
    vector3(-2593.0966796875, 2338.8210449219, 28.243535995483),
    vector3(-757.01849365234, 5479.3881835938, 35.73291015625),
    vector3(-736.49871826172, 5570.8881835938, 36.709636688232),
    vector3(-751.56121826172, 5688.6533203125, 21.906585693359),
    vector3(-672.46569824219, 5806.3159179688, 22.955938339233),
    vector3(-438.48086547852, 6030.9282226563, 31.3453540802),
    vector3(-339.33410644531, 6180.544921875, 31.349273681641),
    vector3(-173.45118713379, 6326.6801757813, 36.118068695068),
    vector3(147.9553527832, 6607.8168945313, 31.862325668335),
    vector3(72.865776062012, 6359.912109375, 31.222356796265),
    vector3(135.40086364746, 6443.7495117188, 31.750610351563),
    vector3(1502.8776855469, 6503.5166015625, 21.456434249878),
    vector3(1602.5578613281, 6450.6118164063, 25.215251922607),
    vector3(1567.0856933594, 6509.9672851563, 19.051750183105),
    vector3(1713.8984375, 6409.9028320313, 33.467220306396),
    vector3(1707.3966064453, 6329.1909179688, 45.099395751953),
    vector3(2475.046875, 5019.29296875, 45.614322662354),
    vector3(2499.72265625, 4919.2436523438, 40.563255310059),
    vector3(2052.8967285156, 4798.2602539063, 41.321250915527),
    vector3(2157.5654296875, 4788.7841796875, 41.048736572266),
    vector3(2440.7053222656, 4086.80078125, 38.720073699951),
    vector3(2477.9494628906, 4103.1938476563, 44.90062713623),
    vector3(2507.53125, 4042.1103515625, 36.761474609375),
    vector3(2008.529296875, 3854.1188964844, 35.148944854736),
    vector3(1951.5510253906, 3836.9650878906, 39.51823425293),
    vector3(1832.6726074219, 3682.4399414063, 39.327297210693),
    vector3(1767.7805175781, 3680.0263671875, 34.230735778809),
    vector3(1734.5798339844, 3364.8439941406, 40.336231231689),
    vector3(1717.6398925781, 3316.037109375, 46.402458190918),
    vector3(1705.2514648438, 3280.9899902344, 41.134014129639),
    vector3(1870.8367919922, 3267.9221191406, 52.1025390625),
    vector3(1867.4489746094, 2514.5451660156, 45.775405883789),
    vector3(1879.0349121094, 2552.8784179688, 45.669124603271),
    vector3(1422.9669189453, 1140.0485839844, 114.34228515625),
    vector3(1385.8409423828, 1118.0465087891, 114.60809326172),
    vector3(931.96154785156, 113.83220672607, 79.78638458252),
    vector3(928.62042236328, -76.76097869873, 78.761291503906),
    vector3(960.31488037109, -145.31507873535, 74.47794342041),
    vector3(288.8649597168, -548.53509521484, 42.478446960449),
    vector3(288.49142456055, -592.50213623047, 49.745174407959),
    vector3(222.85754394531, -567.13031005859, 43.872573852539),
    vector3(313.66522216797, -611.11053466797, 39.442989349365),
    vector3(459.55413818359, -649.68286132813, 28.114953994751),
    vector3(428.5637512207, -592.62945556641, 28.495761871338),
    vector3(391.20492553711, -663.26776123047, 28.797662734985),
    vector3(233.06530761719, -866.80297851563, 30.286752700806),
    vector3(166.79742431641, -788.27166748047, 31.387699127197),
    vector3(192.92010498047, -937.90454101562, 30.686861038208),
    vector3(193.68957519531, -991.52697753906, 30.091909408569),
    vector3(65.233459472656, -1048.3028564453, 29.416889190674),
    vector3(150.14413452148, -1074.1610107422, 29.189636230469),
    vector3(50.772235870361, -1412.3503417969, 29.381011962891),
    vector3(146.05346679688, -1447.947265625, 29.144746780396),
    vector3(164.46296691895, -1335.2686767578, 34.169448852539),
    vector3(220.44625854492, -1360.2098388672, 30.587512969971),
    vector3(238.75756835938, -1283.1127929688, 29.26958656311),
    vector3(193.80548095703, -1104.66015625, 29.28861618042),
    vector3(384.83361816406, -1034.9724121094, 29.206218719482),
    vector3(416.50317382813, -954.47406005859, 29.438720703125),
    vector3(-30.419269561768, -782.00518798828, 44.165233612061),
    vector3(-172.90444946289, -799.43450927734, 31.592475891113),
    vector3(-135.59175109863, -676.65014648438, 40.501132965088),
    vector3(-310.24063110352, -630.06549072266, 33.268463134766),
    vector3(-389.95736694336, -683.16711425781, 37.063430786133),
    vector3(-422.93725585938, -661.54693603516, 30.538579940796),
    vector3(-76.710540771484, -1490.0146484375, 32.287227630615),
    vector3(-35.173622131348, -1456.5798339844, 31.268327713013),
    vector3(58.514091491699, -1529.1716308594, 29.141592025757),
    vector3(210.16813659668, -958.39324951172, 24.458206176758),
    vector3(-1825.9057617188, -721.52941894531, 9.3007659912109),
    vector3(-2605.3708496094, -129.92051696777, 20.851634979248),
    vector3(-2894.8713378906, 27.563171386719, 11.602059364319),
    vector3(-3086.3491210938, 237.37606811523, 13.379156112671),
    vector3(-3021.0283203125, 1444.1987304688, 26.16654586792),
    vector3(-2705.5866699219, 2339.0314941406, 17.094985961914),
    vector3(-2282.4987792969, 3126.3208007813, 32.820426940918),
    vector3(-2227.5400390625, 3224.5537109375, 32.675926208496),
    vector3(92.312026977539, 3473.4792480469, 39.775844573975),
    vector3(32.112319946289, 3693.7016601563, 39.57593536377),
    vector3(111.41384124756, 3610.7861328125, 39.631893157959)
}
local function b()
    math.random()
    math.random()
    math.random()
    return a[math.random(1, #a)]
end
local c = false
function tARMA.hasSpawnProtection()
    return c
end
local function d()
    c = true
    SetTimeout(10000,function()
        c = false
    end)
    Citizen.CreateThread(function()
        SetLocalPlayerAsGhost(true)
        while c do
            SetEntityProofs(PlayerPedId(), true, true, true, true, true, true, true, true)
            SetEntityAlpha(PlayerPedId(), 100, false)
            SetEntityHealth(PlayerPedId(), 200, true)
            TriggerServerEvent("ARMA:purgeClientHasSpawned")
            Wait(0)
        end
        SetEntityAlpha(PlayerPedId(), 255, false)
        SetLocalPlayerAsGhost(false)
        ResetGhostedEntityAlpha()
        tARMA.notify("~g~Spawn protection ended!")
        SetEntityProofs(PlayerPedId(), false, false, false, false, false, false, false, false)
    end)
end
RMenu.Add("purge","main",RageUI.CreateMenu("Spawnpoint", "Main Men", tARMA.getRageUIMenuWidth(), tARMA.getRageUIMenuHeight()))
local e
local f = false
RageUI.CreateWhile(1.0, true, function()
    if RageUI.Visible(RMenu:Get('purge', 'main')) then
        RageUI.DrawContent({ header = true, glare = false, instructionalButton = true}, function()
            RageUI.Button("Random Spawnpoint","",{},true,function(g, h, i)
                if i then
                    f = true
                    RageUI.ActuallyCloseAll()
                end
            end,nil)
            RageUI.Button("Heathrow Airport","",{},true,function(g, h, i)
                if i then
                    e = vector3(-1011.0608520508, -2973.7270507812, 13.951969146729)
                    f = true
                    RageUI.ActuallyCloseAll()
                end
            end,nil)
        end) 
    end
end)

RegisterNetEvent("ARMA:purgeSpawnClient")
AddEventHandler("ARMA:purgeSpawnClient",function()
    ShutdownLoadingScreen()
    ShutdownLoadingScreenNui()
    d()
    DoScreenFadeOut(250)
    tARMA.hideUI()
    Wait(500)
    TriggerScreenblurFadeIn(100.0)
    e = b()
    tARMA.checkCustomization()
    RequestCollisionAtCoord(e.x, e.y, e.z)
    local j = GetGameTimer()
    while HaveAllStreamingRequestsCompleted(PlayerPedId()) ~= 1 and GetGameTimer() - j < 5000 do
        Wait(0)
        print("[ARMA] Waiting for streaming requests to complete!")
    end
    DoScreenFadeIn(1000)
    tARMA.showUI()
    local k = tARMA.getPlayerCoords()
    SetEntityCoordsNoOffset(PlayerPedId(), k.x, k.y, 1200.0, false, false, false)
    SetEntityVisible(PlayerPedId(), false, false)
    FreezeEntityPosition(PlayerPedId(), true)
    while not f do
        RageUI.Visible(RMenu:Get("purge", "main"), true)
        Citizen.Wait(0)
    end
    f = false
    SetEntityVisible(PlayerPedId(), true, true)
    SetFocusPosAndVel(e.x, e.y, e.z + 1000)
    spawnCam = CreateCameraWithParams("DEFAULT_SCRIPTED_CAMERA", e.x, e.y, e.z + 1000, 0.0, 0.0, 0.0, 65.0, 0, 2)
    SetCamActive(spawnCam, true)
    RenderScriptCams(true, true, 0, 1, 0, 0)
    spawnCam2 = CreateCameraWithParams("DEFAULT_SCRIPTED_CAMERA", e.x, e.y, e.z, 0.0, 0.0, 0.0, 65.0, 0, 2)
    SetCamActiveWithInterp(spawnCam2, spawnCam, 5000, 0, 0)
    Wait(2500)
    ClearFocus()
    if not playerIsInPrison then
        SetEntityCoords(PlayerPedId(), e.x, e.y, e.z)
    end
    FreezeEntityPosition(PlayerPedId(), false)
    TriggerScreenblurFadeOut(2000.0)
    Wait(2000)
    DestroyCam(spawnCam)
    DestroyCam(spawnCam2)
    RenderScriptCams(false, true, 2000, 0, 0)
    tARMA.checkCustomization()
    TriggerServerEvent('ARMA:changeHairstyle')
    TriggerServerEvent('ARMA:getPlayerTattoos')
    SetEntityHealth(PlayerPedId(), 200)
    TriggerServerEvent("ARMA:purgeClientHasSpawned")
end)
RegisterNetEvent("ARMA:purgeGetWeapon")
AddEventHandler("ARMA:purgeGetWeapon",function()
    tARMA.notify("~y~Random weapon received!")
    PlaySoundFrontend(-1, "Weapon_Upgrade", "DLC_GR_Weapon_Upgrade_Soundset", true)
end)
Citizen.CreateThread(function()
    if tARMA.isPurge() then
        local l = AddBlipForRadius(0.0, 0.0, 0.0, 50000.0)
        SetBlipColour(l, 1)
        SetBlipAlpha(l, 180)
    end
end)
